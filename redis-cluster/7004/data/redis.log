1:C 30 Oct 2021 22:03:59.435 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1:C 30 Oct 2021 22:03:59.438 # Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1, just started
1:C 30 Oct 2021 22:03:59.442 # Configuration loaded
1:M 30 Oct 2021 22:03:59.459 * No cluster configuration found, I'm 6ad01e62f0b05355a68ef880a599a9ebc68c3672
1:M 30 Oct 2021 22:03:59.469 * Running mode=cluster, port=7004.
1:M 30 Oct 2021 22:03:59.473 # Server initialized
1:M 30 Oct 2021 22:03:59.481 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
1:M 30 Oct 2021 22:03:59.489 * Ready to accept connections
1:signal-handler (1635602675) Received SIGTERM scheduling shutdown...
1:M 30 Oct 2021 22:04:35.959 # User requested shutdown...
1:M 30 Oct 2021 22:04:35.963 * Calling fsync() on the AOF file.
1:M 30 Oct 2021 22:04:35.975 # Redis is now ready to exit, bye bye...
1:C 30 Oct 2021 22:04:41.563 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1:C 30 Oct 2021 22:04:41.566 # Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1, just started
1:C 30 Oct 2021 22:04:41.569 # Configuration loaded
1:M 30 Oct 2021 22:04:41.579 * Node configuration loaded, I'm 6ad01e62f0b05355a68ef880a599a9ebc68c3672
1:M 30 Oct 2021 22:04:41.582 * Running mode=cluster, port=7004.
1:M 30 Oct 2021 22:04:41.586 # Server initialized
1:M 30 Oct 2021 22:04:41.589 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
1:M 30 Oct 2021 22:04:41.594 * Ready to accept connections
1:signal-handler (1635602688) Received SIGTERM scheduling shutdown...
1:M 30 Oct 2021 22:04:49.008 # User requested shutdown...
1:M 30 Oct 2021 22:04:49.014 * Calling fsync() on the AOF file.
1:M 30 Oct 2021 22:04:49.019 # Redis is now ready to exit, bye bye...
1:C 30 Oct 2021 22:04:53.491 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1:C 30 Oct 2021 22:04:53.499 # Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1, just started
1:C 30 Oct 2021 22:04:53.503 # Configuration loaded
1:M 30 Oct 2021 22:04:53.517 * Node configuration loaded, I'm 6ad01e62f0b05355a68ef880a599a9ebc68c3672
1:M 30 Oct 2021 22:04:53.521 * Running mode=cluster, port=7004.
1:M 30 Oct 2021 22:04:53.525 # Server initialized
1:M 30 Oct 2021 22:04:53.530 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
1:M 30 Oct 2021 22:04:53.544 * Ready to accept connections
1:M 30 Oct 2021 22:05:37.858 # configEpoch set to 4 via CLUSTER SET-CONFIG-EPOCH
1:S 30 Oct 2021 22:05:41.939 * Before turning into a replica, using my master parameters to synthesize a cached master: I may be able to synchronize with the new master with just a partial transfer.
1:S 30 Oct 2021 22:05:41.943 # Cluster state changed: ok
1:S 30 Oct 2021 22:05:42.330 * Connecting to MASTER 192.168.1.11:7001
1:S 30 Oct 2021 22:05:42.334 * MASTER <-> REPLICA sync started
1:S 30 Oct 2021 22:05:42.337 * Non blocking connect for SYNC fired the event.
1:S 30 Oct 2021 22:05:42.342 * Master replied to PING, replication can continue...
1:S 30 Oct 2021 22:05:42.351 * Trying a partial resynchronization (request 47d5209c5bd58ddd07f884967941e84407a3c652:1).
1:S 30 Oct 2021 22:05:42.367 * Full resync from master: 0da3ec7249b5bcefd7589aeca2502ad3768a855a:0
1:S 30 Oct 2021 22:05:42.369 * Discarding previously cached master state.
1:S 30 Oct 2021 22:05:42.436 * MASTER <-> REPLICA sync: receiving 175 bytes from master
1:S 30 Oct 2021 22:05:42.442 * MASTER <-> REPLICA sync: Flushing old data
1:S 30 Oct 2021 22:05:42.444 * MASTER <-> REPLICA sync: Loading DB in memory
1:S 30 Oct 2021 22:05:42.448 * MASTER <-> REPLICA sync: Finished with success
1:S 30 Oct 2021 22:05:42.451 * Background append only file rewriting started by pid 20
1:S 30 Oct 2021 22:05:42.480 * AOF rewrite child asks to stop sending diffs.
20:C 30 Oct 2021 22:05:42.483 * Parent agreed to stop sending diffs. Finalizing AOF...
20:C 30 Oct 2021 22:05:42.485 * Concatenating 0.00 MB of AOF diff received from parent.
20:C 30 Oct 2021 22:05:42.488 * SYNC append only file rewrite performed
20:C 30 Oct 2021 22:05:42.491 * AOF rewrite: 0 MB of memory used by copy-on-write
1:S 30 Oct 2021 22:05:42.540 * Background AOF rewrite terminated with success
1:S 30 Oct 2021 22:05:42.543 * Residual parent diff successfully flushed to the rewritten AOF (0.00 MB)
1:S 30 Oct 2021 22:05:42.546 * Background AOF rewrite finished successfully
1:S 30 Oct 2021 22:19:55.311 # Connection with master lost.
1:S 30 Oct 2021 22:19:55.318 * Caching the disconnected master state.
1:S 30 Oct 2021 22:19:55.593 * Connecting to MASTER 192.168.1.11:7001
1:S 30 Oct 2021 22:19:55.598 * MASTER <-> REPLICA sync started
1:S 30 Oct 2021 22:19:55.602 # Error condition on socket for SYNC: Connection refused
1:S 30 Oct 2021 22:19:56.605 * Connecting to MASTER 192.168.1.11:7001
1:S 30 Oct 2021 22:19:56.608 * MASTER <-> REPLICA sync started
1:S 30 Oct 2021 22:19:56.618 # Error condition on socket for SYNC: Connection refused
1:S 30 Oct 2021 22:19:57.629 * Connecting to MASTER 192.168.1.11:7001
1:S 30 Oct 2021 22:19:57.632 * MASTER <-> REPLICA sync started
1:S 30 Oct 2021 22:19:57.634 # Error condition on socket for SYNC: Connection refused
1:S 30 Oct 2021 22:20:00.903 * Connecting to MASTER 192.168.1.11:7001
1:S 30 Oct 2021 22:20:01.086 * MASTER <-> REPLICA sync started
1:S 30 Oct 2021 22:20:01.090 # Error condition on socket for SYNC: Connection refused
1:S 30 Oct 2021 22:20:01.102 * Marking node 129f476d497cbfb74713d888cd4a62c35c8688b1 as failing (quorum reached).
1:S 30 Oct 2021 22:20:01.105 # Cluster state changed: fail
1:S 30 Oct 2021 22:20:01.191 # Start of election delayed for 712 milliseconds (rank #0, offset 1176).
1:S 30 Oct 2021 22:20:01.913 # Starting a failover election for epoch 7.
1:S 30 Oct 2021 22:20:01.932 # Failover election won: I'm the new master.
1:S 30 Oct 2021 22:20:01.935 # configEpoch set to 7 after successful failover
1:M 30 Oct 2021 22:20:01.938 # Setting secondary replication ID to 0da3ec7249b5bcefd7589aeca2502ad3768a855a, valid up to offset: 1177. New replication ID is 8226b0fe06f35abc18787fb1dbc40026662edd4d
1:M 30 Oct 2021 22:20:01.941 * Discarding previously cached master state.
1:M 30 Oct 2021 22:20:01.944 # Cluster state changed: ok
1:M 30 Oct 2021 22:21:56.572 * Clear FAIL state for node 129f476d497cbfb74713d888cd4a62c35c8688b1: master without slots is reachable again.
1:M 30 Oct 2021 22:21:57.565 * Replica 172.22.0.1:7001 asks for synchronization
1:M 30 Oct 2021 22:21:57.568 * Partial resynchronization not accepted: Replication ID mismatch (Replica asked for '8a830564008b1a2c3b42a72feac9df5bb7c0f9a5', my replication IDs are '8226b0fe06f35abc18787fb1dbc40026662edd4d' and '0da3ec7249b5bcefd7589aeca2502ad3768a855a')
1:M 30 Oct 2021 22:21:57.571 * Starting BGSAVE for SYNC with target: disk
1:M 30 Oct 2021 22:21:57.574 * Background saving started by pid 21
21:C 30 Oct 2021 22:21:57.586 * DB saved on disk
21:C 30 Oct 2021 22:21:57.589 * RDB: 0 MB of memory used by copy-on-write
1:M 30 Oct 2021 22:21:57.686 * Background saving terminated with success
1:M 30 Oct 2021 22:21:57.694 * Synchronization with replica 172.22.0.1:7001 succeeded
1:signal-handler (1635603754) Received SIGTERM scheduling shutdown...
1:M 30 Oct 2021 22:22:34.961 # User requested shutdown...
1:M 30 Oct 2021 22:22:34.965 * Calling fsync() on the AOF file.
1:M 30 Oct 2021 22:22:34.975 # Redis is now ready to exit, bye bye...
